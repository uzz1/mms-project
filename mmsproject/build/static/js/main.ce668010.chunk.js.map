{"version":3,"sources":["components/ErrorField/ErrorField.js","contexts/AuthContext.js","pages/Login/Login.js","pages/Signup/Signup.js","components/Header/Header.js","contexts/PostContext.js","components/Post/Post.js","pages/Home/Home.js","pages/Search/Search.js","pages/NewPost/NewPost.js","pages/NewImage/NewImage.js","pages/Profile/Profile.js","pages/EditProfile/EditProfile.js","contexts/CommentContext.js","pages/Comments/Comments.js","contexts/ImageContext.js","pages/Images/Images.js","pages/Dashboard/Dashboard.js","containers/Main/Main.js","PrivateRoute.js","App.js","index.js","utils.js","assets/logo.jpg"],"names":["ErrorField","error","className","AuthContext","createContext","AuthContextProvider","props","useState","currentUser","setCurrentUser","signUpMsg","setSignUpMsg","Provider","value","children","Login","username","setUsername","password","setPassword","useContext","common","errors","setErrors","checkAuth","to","pathname","src","Logo","alt","onSubmit","e","preventDefault","headers","Headers","base64","encode","fetch","method","then","res","json","data","status","token","cookies","set","expires","window","location","replace","field","msg","catch","for","type","name","id","placeholder","onChange","target","required","Signup","email","setEmail","Avatar","formdata","FormData","append","body","history","push","minLength","maxLength","Header","collapsed","setCollapsed","toggleNavbar","onClick","color","light","href","exact","isOpen","navbar","PostContext","PostContextProvider","posts","setPosts","useEffect","getToken","Post","pid","public_id","author","img","post","date_posted","latitude","longitude","setError","modal","setModal","toggleModal","lg","md","sm","xs","onDoubleClick","jwt","decode","Cookie","get","post_id","reload","deletePost","Home","WidthProvider","Responsive","postList","length","map","key","Search","results","setResults","search","setSearch","message","setMessage","output","result","makeSearch","NewPost","setImg","text","setText","useGeolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","coords","isGeolocationAvailable","isGeolocationEnabled","webcamRef","React","useRef","capture","useCallback","imageSrc","current","getScreenshot","audio","height","ref","screenshotFormat","width","videoConstraints","facingMode","alert","image","byteString","atob","split","ab","ArrayBuffer","ia","Uint8Array","i","charCodeAt","Blob","convertBase64ToFile","NewImage","match","params","setImage","Profile","setMsg","logout","remove","user","component","EditProfile","setBio","bio","document","getElementById","encType","CommentContext","CommentContextProvider","comments","setComments","Comments","comment","setComment","find","String","getComments","profile_pic","commentator","comment_id","deleteComment","ImageContext","ImageContextProvider","images","setImages","Images","MapMarker","style","defaultProps","center","lat","lng","zoom","getImages","bootstrapURLKeys","defaultCenter","defaultZoom","im","toString","parseFloat","slice","image_id","deleteImage","Dashboard","title","Main","path","require","PrivateRoute","Component","rest","render","App","ReactDOM","exp","Date","getTime","module","exports"],"mappings":"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","file":"static/js/main.ce668010.chunk.js","sourcesContent":["import React from 'react';\n\nimport './ErrorField.css';\n\nconst ErrorField = ({ error }) => {\n  return (\n    <p className=\"error_field\">\n      {error}\n    </p>\n  );\n}\n\nexport default ErrorField;","import React, { createContext, useState } from 'react';\nexport const AuthContext = createContext();\n\nconst AuthContextProvider = (props) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [signUpMsg, setSignUpMsg] = useState('');\n\n  return (\n    <AuthContext.Provider value={{\n      currentUser,\n      setCurrentUser,\n      signUpMsg,\n      setSignUpMsg\n    }}>\n      {props.children}\n    </AuthContext.Provider>\n  );\n}\n\nexport default AuthContextProvider;","import React, { useState, useContext } from 'react';\nimport base64 from 'base-64';\nimport cookies from 'js-cookie';\nimport { checkAuth } from '../../utils';\n\nimport './Login.css';\n\nimport Logo from '../../assets/logo.jpg';\nimport { Link, Redirect } from 'react-router-dom';\nimport ErrorField from '../../components/ErrorField/ErrorField';\nimport { AuthContext } from '../../contexts/AuthContext';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\nconst Login = (props) => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const { signUpMsg, setSignUpMsg } = useContext(AuthContext);\n\n  const [errors, setErrors] = useState({\n    username: '',\n    password: '',\n    common: ''\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const headers = new Headers({\n      \"Authorization\": `Basic ${base64.encode(`${base64.encode(username)}:${base64.encode(password)}`)}`\n    });\n\n    fetch('/api/login', {\n      method: 'GET',\n      headers: headers\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          // everything went well, redirect to Login\n          setUsername('');\n          setPassword('');\n\n          if (data['token']) {\n            const token = data['token'];\n\n            cookies.set('token', token, {\n              expires: 2\n            })\n\n          }\n\n          setSignUpMsg('');\n          window.location.replace('/');\n        } else {\n          switch (data.field) {\n            case \"common\":\n              setErrors({\n                username: '',\n                password: '',\n                common: data.msg\n              })\n              break;\n            case \"password\":\n              setErrors({\n                username: '',\n                common: '',\n                password: data.msg\n              })\n              break;\n            case \"username\":\n              setErrors({\n                password: '',\n                common: '',\n                username: data.msg\n              })\n              break;\n            default:\n              setErrors({\n                username: '',\n                password: '',\n                common: \"Oops, something went wrong!\"\n              })\n              break;\n          }\n        }\n      })\n      .catch(e => {\n        setErrors({\n          username: '',\n          password: '',\n          common: \"Oops, something went wrong!\"\n        })\n      });\n  }\n\n  if (checkAuth()) {\n    return <Redirect to={{\n      pathname: '/'\n    }} />\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"login\">\n        {signUpMsg && <p className=\"success_msg\">{signUpMsg}</p>}\n\n        <img src={Logo} alt=\"logo\" className=\"login__logo\" />\n        <Form onSubmit={handleSubmit} className=\"login__form\">\n        <FormGroup>\n          <Label for=\"siteName\">Username</Label>\n          <Input type=\"text\" name=\"username\" id=\"username\" placeholder=\"Your username\" \n          onChange={e => setUsername(e.target.value)} required\n          value={username}\n          />\n        {errors.username && <ErrorField error={errors.username} />}\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"siteName\">Password</Label>\n          <Input type=\"password\" name=\"password\" id=\"password\" placeholder=\"Your password\" \n          onChange={e => setPassword(e.target.value)} required\n          value={password}\n          />\n         {errors.password && <ErrorField error={errors.password} />}\n          {errors.common && <ErrorField error={errors.common} />}\n        </FormGroup>\n        <button type=\"submit\" className=\"btn btn-primary\">Log in</button>\n\n      </Form>\n      <div className=\"msg\">\n          Don't have an account? <Link to=\"/signup\">Sign up</Link>\n        </div>\n       \n      </div>\n    </div>\n  );\n}\n\nexport default Login;","import React, { useState, useContext } from 'react';\nimport { checkAuth } from '../../utils';\nimport { Redirect } from 'react-router-dom';\n\nimport './Signup.css';\n\nimport { Link } from 'react-router-dom';\nimport ErrorField from '../../components/ErrorField/ErrorField';\nimport { AuthContext } from '../../contexts/AuthContext';\nimport { Avatar } from '@material-ui/core';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\n\n\nconst Signup = (props) => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const { setSignUpMsg } = useContext(AuthContext);\n\n  const [errors, setErrors] = useState({\n    username: '',\n    email: '',\n    password: '',\n    common: ''\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formdata = new FormData();\n\n    formdata.append('username', username);\n    formdata.append('email', email);\n    formdata.append('password', password);\n\n    fetch('/api/signup', {\n      method: 'POST',\n      body: formdata\n    })\n    .then(res => res.json())\n    .then(data => {\n      if (data.status === 200) {\n        // everything went well, redirect to Login\n        setUsername('');\n        setEmail('');\n        setPassword('');\n\n        // show success message\n        setSignUpMsg(data.msg);\n\n        props.history.push('/login');\n      } else {\n        switch (data.field) {\n          case \"username\":\n            setErrors({\n              username: data.msg,\n              email: '',\n              password: '',\n              common: ''\n            });\n            break;\n          case \"email\":\n            setErrors({\n              username: '',\n              email: data.msg,\n              password: '',\n              common: ''\n            });\n            break;\n          case \"password\":\n            setErrors({\n              username: '',\n              email: '',\n              password: data.msg,\n              common: ''\n            });\n            break;\n          case \"common\":\n            setErrors({\n              username: '',\n              email: '',\n              password: '',\n              common: data.msg\n            });\n            break;\n          default:\n            setErrors({\n              username: '',\n              email: '',\n              password: '',\n              common: \"Oops, something went wrong!\"\n            });\n            break;\n        }\n      }\n    })\n    .catch(e => {\n      setErrors({\n        username: '',\n        email: '',\n        password: '',\n        common: \"Oops, something went wrong!\"\n      });\n    });\n  }\n\n  if (checkAuth()) {\n    return <Redirect to={{\n      pathname: '/'\n    }} />\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"signup\">\n        <h1>Register</h1>\n        <Avatar className=\"icon\" />\n        <Form onSubmit={handleSubmit}\n        className=\"signup__form\">\n        <FormGroup>\n          <Label for=\"username\">Username</Label>\n          <Input type=\"text\" \n          name=\"username\"\n          value={username} \n          id=\"username\" \n          placeholder=\"Choose a username\"\n          onChange={e => setUsername(e.target.value)}\n          required\n          minLength=\"2\"\n          maxLength=\"50\"\n          />\n          {errors.username && <ErrorField error={errors.username} />}\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"email\">Email</Label>\n          <Input type=\"email\" \n          name=\"email\"\n          value={email} \n          id=\"email\" \n          placeholder=\"yourmail@mail.com\"\n          onChange={e => setEmail(e.target.value)}\n          required\n          maxLength=\"150\"\n          />\n          {errors.email && <ErrorField error={errors.email} />}\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"password\">Password</Label>\n          <Input type=\"password\" \n          name=\"password\"\n          value={password} \n          id=\"password\" \n          placeholder=\"Choose a password\"\n          onChange={e => setPassword(e.target.value)}\n          required\n          minLength=\"8\"\n          />\n {errors.password && <ErrorField error={errors.password} />}\n            {errors.common && <ErrorField error={errors.common} />}       \n             </FormGroup>\n             <button type=\"submit\" className=\"btn btn-primary\">Sign up</button>\n\n        </Form>\n        <div className=\"msg\">\n          Already have an account? <Link to=\"/login\">Log in</Link>\n        </div>\n\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;","import React, {useState} from 'react';\n\nimport './Header.css';\n\nimport CameraAltOutlinedIcon from '@material-ui/icons/CameraAltOutlined';\nimport Logo from '../../assets/logo.jpg';\nimport HomeOutlinedIcon from '@material-ui/icons/HomeOutlined';\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\nimport AddBoxOutlinedIcon from '@material-ui/icons/AddBoxOutlined';\nimport AccountCircleOutlinedIcon from '@material-ui/icons/AccountCircleOutlined';\nimport LocationOnOutlinedIcon from '@material-ui/icons/LocationOnOutlined';\n\nimport { NavLink, Link } from 'react-router-dom';\nimport {\n  Collapse,\n  Navbar,\n  NavbarToggler,\n  NavbarBrand,\n  Nav,\n  NavItem,\n  Container\n} from 'reactstrap';\n\n\nconst Header = () => {\n  const [collapsed, setCollapsed] = useState(true);\n\n  const toggleNavbar = () => setCollapsed(!collapsed);\n  return (\n    <header onClick={toggleNavbar} className=\"header\">\n      \n       <Navbar color=\"white\" light className=\"navbar-main\">\n       \n        <NavbarBrand href=\"/\" className=\"me-auto\">\n<Container className=\"navbrand\">\n  \n<Link to=\"/\"  exact>\n<img src={Logo} alt=\"logo\" className=\"login__logo\" />\n\n        Assessment\n        </Link>\n</Container>\n       \n\n        </NavbarBrand>\n        <Collapse isOpen={!collapsed} navbar className=\"collapse-menu\">\n          <Nav navbar>\n            <NavItem>\n            <NavLink to=\"/\" exact>\n        <HomeOutlinedIcon />\n        Dashboard\n      </NavLink>\n            </NavItem>\n            <NavItem>\n            <NavLink to=\"/locations\" exact>\n        <LocationOnOutlinedIcon />\n        Locations\n      </NavLink>\n            </NavItem>\n            <NavItem>\n            <NavLink to=\"/search\">\n        <SearchOutlinedIcon />\n        Search\n      </NavLink>\n            </NavItem>\n            <NavItem>\n            <NavLink to=\"/newpost\">\n        <AddBoxOutlinedIcon />\n        New Location\n      </NavLink>\n            </NavItem>\n            <NavItem>\n            <NavLink to=\"/profile\">\n        <AccountCircleOutlinedIcon />\n        Profile\n      </NavLink>\n            </NavItem>\n          </Nav>\n        </Collapse>\n        <NavbarToggler onClick={toggleNavbar} className=\"me-2\" />\n\n      </Navbar>\n     \n      {/* <div>\n       <h5>MMS Image Geolocation App</h5>\n      </div>\n      <NavLink to=\"/\" exact>\n        <HomeOutlinedIcon />\n      </NavLink>\n      <NavLink to=\"/search\">\n        <SearchOutlinedIcon />\n      </NavLink>\n      <NavLink to=\"/newpost\">\n        <AddBoxOutlinedIcon />\n      </NavLink>\n      <NavLink to=\"/profile\">\n        <AccountCircleOutlinedIcon />\n      </NavLink> */}\n    </header>\n  );\n}\n\nexport default Header;","import React, { createContext, useState, useEffect } from 'react';\nimport { getToken } from '../utils';\n\nexport const PostContext = createContext();\n\nconst PostContextProvider = ({ children }) => {\n  const [posts, setPosts] = useState([]);\n\n  const getPosts = () => {\n    fetch('/api/posts', {\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      if (data.status === 200) {\n        setPosts(data.posts);\n      } else {\n        setPosts('');\n      }\n    })\n    .catch(e => {\n      setPosts('');\n    });\n  }\n\n  useEffect(getPosts, []);\n\n  return (\n    <PostContext.Provider value={{\n      posts,\n      setPosts\n    }}>\n      {children}\n    </PostContext.Provider>\n  );\n}\n\nexport default PostContextProvider;","import React, { useContext, useState } from 'react';\n\nimport { getToken, checkAuth } from '../../utils';\n\nimport './Post.css';\n\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\n\nimport CommentOutlinedIcon from '@material-ui/icons/CommentOutlined';\nimport ImageIcon from '@material-ui/icons/Image';\n\nimport jwt from 'jsonwebtoken';\nimport Cookie from 'js-cookie';\n\nimport { PostContext } from '../../contexts/PostContext';\nimport ErrorField from '../../components/ErrorField/ErrorField';\nimport { Link } from 'react-router-dom';\nimport { Col, Button } from 'reactstrap';\n\nconst Post = ({ id, public_id, author, img, post, date_posted, latitude, longitude }) => {\n  const { posts, setPosts } = useContext(PostContext);\n  const [error, setError] = useState('');\n  const [modal, setModal] = useState(false);\n\n  const toggleModal = () => {\n    setModal(!modal);\n  }\n\n  const deletePost = (pid, post_id) => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    fetch('/api/delete_post', {\n      method: 'DELETE',\n      headers: {\n        'public_id': pid,\n        'post_id': post_id,\n        'x-access-token': getToken()\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      if (data.status === 200) {\n        toggleModal();\n        setError('');\n        \n        window.location.reload('/');\n      } else {\n        toggleModal();\n        setError('Oops, Some, error, happened!');\n      }\n    })\n    .catch(e => {\n      toggleModal();\n      setError('Oops, Some, error, happened!');\n    })  \n  }\n\n  const copyLink = () => {\n    // copy link to clipboard\n    console.log('link copied')\n  }\n\n  const isAuthor = (pid) => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    const { public_id } = jwt.decode(Cookie.get('token'));\n\n    if (public_id === pid) {\n      return true;\n    }\n\n    return false;\n  }\n\n  \n\n  \n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n\n  return (\n    <Col lg=\"4\" md=\"4\" sm=\"6\" xs=\"12\">\n      {modal && <div className=\"modal\">\n        <div className=\"content\">\n        <span onClick={toggleModal} className=\"close\">&times;</span>\n        \n        </div>\n\n      </div>}\n      <div className=\"post__top\">\n        <strong>{post}</strong>\n       \n      </div>\n      <div className=\"post__img\">\n        <img onDoubleClick={null} src={img} alt=\"post-img\" />\n      </div>\n\n      {error && <ErrorField error={error} />}\n\n      <div className=\"post__fun\">\n        <Link to={`/images/${id}`} className=\"comment_link\">\n          <Button><ImageIcon className=\"icon\"/>Images</Button>\n        </Link>\n      </div>\n      \n      <div className=\"post__fun\">\n      <Link to={`/comments/${id}`} className=\"comment_link\">\n      <Button> <CommentOutlinedIcon className=\"icon\" />Notes</Button>\n         \n        </Link>\n      </div>\n     \n     \n      <div className=\"post__post\">\n        <strong>Author: </strong>{author} \n      </div>\n      {isAuthor(public_id) ? (\n          <>\n          <Button onClick={() => deletePost(public_id, id)}>Delete</Button>\n          </>\n        ) : (\n         null\n        )}\n    </Col>\n  );\n}\n\nexport default Post;","import React, { useContext } from 'react';\n\nimport './Home.css';\nimport { PostContext } from '../../contexts/PostContext';\nimport Post from '../../components/Post/Post';\nimport { checkAuth } from '../../utils';\nimport { Responsive, WidthProvider } from \"react-grid-layout\";\nimport { Container, Row, Col } from 'reactstrap';\nconst ResponsiveGridLayout = WidthProvider(Responsive);\n\nconst Home = (props) => {\n  const { posts } = useContext(PostContext);\n\n\n\n  const postList = posts.length > 0 ? (\n   \n    posts.map(post => (\n      <Post key={post.id} public_id={post.public_id} id={post.id} author={post.author}  img={post.img}  post={post.post} latitude={post.latitude} longitude={post.longitude} />\n    ))\n  ) : (\n    <p className=\"home__msg\">Oops! No locations sites yet...</p>\n  );\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n  \n  return (\n   \n       <Container className=\"container\">\n        <Row>\n        {postList}\n        </Row>\n       </Container>\n  );\n}\n\nexport default Home;","import React, { useState } from 'react';\n\nimport { checkAuth, getToken } from '../../utils';\nimport {Link} from 'react-router-dom';\nimport './Search.css';\n\nconst Search = () => {\n  const [results, setResults] = useState('');\n  const [search, setSearch] = useState('');\n  const [message, setMessage] = useState('');\n  \n  const handleSubmit = (e) => {\n    e.preventDefault();\n  }\n\n  const makeSearch = (search) => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    // make a formdata\n    const formdata = new FormData();\n\n    formdata.append('term', search);\n\n    // make a request\n    fetch('/api/search', {\n      method: 'POST',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setMessage('');\n          setResults(data.posts);\n        } else if (data.status === 404) {\n          setResults('');\n          setMessage(\"Oops, No locations found...\");\n        } else {\n          setResults('');\n          setMessage(\"Oops, Some error happened! Try Again...\");\n        }\n      })\n      .catch(e => {\n        setResults('');\n        setMessage(\"Oops, Some error happened! Try Again...\");\n      });\n  }\n\n\n  const output = results && (\n    results.map(result => (\n      <div key={result.id} className=\"user\">\n        <Link to={`images/${result.id}`}>\n        <div>\n        <img className=\"user__profile_pic\" src={result.img} alt=\"location image\" />\n        <span className=\"user__username\">\n          {result.post}\n        </span>\n        </div>\n        </Link>\n       \n        <div>\n          \n        </div>\n      </div>\n    ))\n  );\n\n  return (\n    <div className=\"search\">\n      <h1>Search</h1>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" placeholder=\"Search Locations...\" value={search} onChange={(e) => {\n          setSearch(e.target.value);\n          if (e.target.value !== '') {\n            makeSearch(e.target.value);\n          } \n        }} />\n      </form>\n\n      <p className=\"search__message\">{message && message}</p>\n      <div className=\"search__results\">\n        {output}\n      </div>\n    </div>\n  );\n}\n\nexport default Search;","import React, { useState, useContext } from 'react';\n\nimport './NewPost.css';\nimport { PostContext } from '../../contexts/PostContext';\nimport { getToken, checkAuth } from '../../utils';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport Webcam from \"react-webcam\";\nimport { useGeolocated } from \"react-geolocated\";\n\nconst NewPost = (props) => {\n  const [img, setImg] = useState('');\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n\n  const { coords, isGeolocationAvailable, isGeolocationEnabled } =\n        useGeolocated({\n          positionOptions: {\n            enableHighAccuracy: true,\n        },\n        userDecisionTimeout: 5000,\n        \n      });\n\n  const { posts, setPosts } = useContext(PostContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n    if (img==='') {\n      return window.alert(\"Image Not Set\")\n    }\n\n    const convertBase64ToFile = function (image) {\n      const byteString = atob(image.split(',')[1]);\n      const ab = new ArrayBuffer(byteString.length);\n      const ia = new Uint8Array(ab);\n      for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      const newBlob = new Blob([ab], {\n        type: 'image/jpeg',\n      });\n      return newBlob;\n    };\n\n    // make a formdata\n    const formdata = new FormData();\n\n    formdata.append('img', img);\n    formdata.append('text', text);\n    formdata.append('img', convertBase64ToFile(img));\n    formdata.append('lat', coords.latitude);\n    formdata.append('long', coords.longitude);\n\n    // make a request\n    fetch('/api/newpost', {\n      method: 'POST',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setPosts([\n            data.post,\n            ...posts\n          ]);\n          setText('');\n          window.alert(\"Successfully added new location site\")\n\n          props.history.push('/locations');\n        } else {\n        setError(\"Oops, Some error happened! Try Again...\");\n\n        }\n      })\n      .catch(e => {\n        setError(\"Oops, Some error happened! Try Again...\");\n      });\n  }\n  const videoConstraints = {\n    width: 300,\n    height: 300,\n    facingMode: \"environment\"\n  };\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    () => {\n      const imageSrc = webcamRef.current.getScreenshot();\n      \n      setImg(imageSrc);\n    },\n    [webcamRef]\n  );\n  const retake = () => {\n    setImg('')\n  }\n\n  return (\n    <div className=\"newpost\">\n      <div>\n      {img!=''? \n      (<img src={img} className=\"img\"/>)\n      :\n      (\n        <Webcam\n        audio={false}\n        height={400}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width={400}\n        videoConstraints={videoConstraints}\n      />\n      )}\n      </div>\n      {img===''?\n      (<Button onClick={capture}>Capture photo</Button>)\n      :\n      (<Button onClick={retake}>Retake</Button>)  \n    }\n      <br></br>\n      <br></br>\n      {error && <p className=\"newpost__error\">Oops, Some Error happened! Try Again...</p>}\n      <Form onSubmit={handleSubmit}>\n        <FormGroup>\n          <Label for=\"siteName\">Location Site Name</Label>\n          <Input type=\"text\" name=\"name\" id=\"siteName\" placeholder=\"Enter Site Name\" onChange={\n          e => setText(e.target.value)} required/>\n        \n        </FormGroup>\n        <FormGroup>\n        {img!='' ?\n          (          <Label for=\"img\">Image Set</Label>\n          )\n          :\n          (          <Label for=\"img\">Image not set... Capture a photo</Label>\n          )\n        }\n\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"img\">Location:</Label>\n\n          {!isGeolocationAvailable ? (\n        <div>Your browser does not support Geolocation</div>\n    ) : !isGeolocationEnabled ? (\n        <div>Geolocation is not enabled</div>\n    ) : coords ? (\n        <table>\n            <tbody>\n                <tr>\n                    <td>latitude</td>\n                    <td>{coords.latitude}</td>\n                </tr>\n                <tr>\n                    <td>longitude</td>\n                    <td>{coords.longitude}</td>\n                </tr>\n               \n            </tbody>\n        </table>\n    ) : (\n        <div>Getting the location data&hellip; </div>\n    )}\n\n        </FormGroup>\n        <Button>Add Location Site</Button>\n      </Form>\n     \n    </div>\n  );\n}\n\nexport default NewPost;","import React, { useState, useContext } from 'react';\n\nimport './NewImage.css';\nimport { PostContext } from '../../contexts/PostContext';\nimport { getToken, checkAuth } from '../../utils';\nimport { Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport Webcam from \"react-webcam\";\nimport { useGeolocated } from \"react-geolocated\";\nimport {Link} from 'react-router-dom'\n\nconst NewImage = (props) => {\n  const { id } = props.match.params;\n  const [img, setImg] = useState('');\n  const [text, setText] = useState('');\n  const [error, setError] = useState('');\n  const [image, setImage] = useState('');\n\n  const { coords, isGeolocationAvailable, isGeolocationEnabled } =\n        useGeolocated({\n          positionOptions: {\n            enableHighAccuracy: true,\n        },\n        userDecisionTimeout: 5000,\n        \n      });\n\n  const { posts, setPosts } = useContext(PostContext);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n    if (img==='') {\n      return window.alert(\"Image Not Set\")\n    }\n\n    const convertBase64ToFile = function (image) {\n      const byteString = atob(image.split(',')[1]);\n      const ab = new ArrayBuffer(byteString.length);\n      const ia = new Uint8Array(ab);\n      for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      const newBlob = new Blob([ab], {\n        type: 'image/jpeg',\n      });\n      return newBlob;\n    };\n\n    // make a formdata\n    const formdata = new FormData();\n\n    formdata.append('name', image);\n    formdata.append('id', id);\n    formdata.append('img', convertBase64ToFile(img));\n    formdata.append('lat', coords.latitude);\n    formdata.append('long', coords.longitude);\n\n    fetch('/api/add_image', {\n      method: 'POST',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          // setImages([\n          //   ...images,\n          //   data.image\n          // ]);\n          setImage('');\n          setText('');\n          window.alert(\"Successfully added new image\")\n  \n          props.history.push(`/images/${id}`);\n        } else {\n        setError(\"Oops, Some error happened! Try Again...\");\n\n        }\n      })\n      .catch(e => {\n        setError(\"Oops, Some error happened! Try Again...\");\n      });\n  }\n  const videoConstraints = {\n    width: 300,\n    height: 300,\n    facingMode: \"environment\"\n  };\n  const webcamRef = React.useRef(null);\n  const capture = React.useCallback(\n    () => {\n      const imageSrc = webcamRef.current.getScreenshot();\n      \n      setImg(imageSrc);\n    },\n    [webcamRef]\n  );\n  const retake = () => {\n    setImg('')\n  }\n\n  return (\n    <div className=\"newpost\">\n       <Link to=\"/locations\">\n      <Button>Back</Button>\n      </Link>\n      <br></br>\n      <div>\n        {img!=''? \n      (<img src={img} className=\"img\"/>)\n      :\n      (\n        <Webcam\n        audio={false}\n        height={400}\n        ref={webcamRef}\n        screenshotFormat=\"image/jpeg\"\n        width={400}\n        videoConstraints={videoConstraints}\n      />\n      )}\n    \n      \n      </div>\n      {img===''?\n      (<Button onClick={capture}>Capture photo</Button>)\n      :\n      (<Button onClick={retake}>Retake</Button>)  \n    }\n      \n      <br></br>\n      <br></br>\n      {error && <p className=\"newpost__error\">Oops, Some Error happened! Try Again...</p>}\n      <Form onSubmit={handleSubmit}>\n        <FormGroup>\n          <Label for=\"siteName\">Image Name</Label>\n          <Input type=\"text\" name=\"name\" id=\"imageName\" placeholder=\"Enter Image Name\" onChange={\n          e => setImage(e.target.value)} required/>\n        \n        </FormGroup>\n        <FormGroup>\n          {img!='' ?\n          (          <Label for=\"img\">Image Set</Label>\n          )\n          :\n          (          <Label for=\"img\">Image not set... Capture a photo</Label>\n          )\n        }\n\n        </FormGroup>\n        <FormGroup>\n          <Label for=\"location\">Location:</Label>\n\n          {!isGeolocationAvailable ? (\n        <div>Your browser does not support Geolocation</div>\n    ) : !isGeolocationEnabled ? (\n        <div>Geolocation is not enabled</div>\n    ) : coords ? (\n        <table>\n            <tbody>\n                <tr>\n                    <td>latitude</td>\n                    <td>{coords.latitude}</td>\n                </tr>\n                <tr>\n                    <td>longitude</td>\n                    <td>{coords.longitude}</td>\n                </tr>\n               \n            </tbody>\n        </table>\n    ) : (\n        <div>Getting the location data&hellip; </div>\n    )}\n\n        </FormGroup>\n        <Button>Add Image Object</Button>\n      </Form>\n     \n    </div>\n  );\n}\n\nexport default NewImage;","import React, { useEffect, useState } from 'react';\n\nimport { checkAuth, getToken } from '../../utils';\nimport Cookie from 'js-cookie';\nimport './Profile.css';\n\nconst Profile = () => {\n  const [currentUser, setCurrentUser] = useState('');\n  const [msg, setMsg] = useState('');\n\n  const logout = async () => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    await Cookie.remove('token');\n    return window.location.replace('/login')\n  }\n\n  // get current user\n  const getCurrentUser = () => {\n    fetch('/api/get_current_user', {\n      method: 'GET',\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setMsg('');\n          setCurrentUser(data.user);\n        } else {\n          setMsg('Oops, Some error happened!');\n        }\n      })\n      .catch(e => {\n        setMsg('Oops, Some error happened!');\n      })\n  }\n\n  useEffect(getCurrentUser, []);\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n\n  const component = currentUser ? (\n    <div>\n            <div className=\"profile__top\">User Profile</div>\n\n      <div className=\"profile__header\">\n\n        <div className=\"profile__header__details\">\n        <p>\n        Username: \n        </p>\n      <p className=\"profile__header__username\">\n         {currentUser.username}\n        </p>\n        <p>\n        Email: \n        </p>\n      <p className=\"profile__header__username\">\n         {currentUser.email}\n        </p>\n        </div>\n     \n      <div className=\"profile__header__logout\">\n        <button onClick={logout} className=\"btn btn-primary\" href=\"/logout\">Logout</button>\n      </div>\n    </div>\n\n    <div className=\"profile__body_top\">\n      <div>\n  \n      </div>\n     \n     \n    </div>\n\n    <div className=\"profile__body_middle\">\n        <span className=\"profile__verbose\">Posts: </span>\n        <span className=\"profile__number\"><strong>{currentUser.posts}</strong></span>\n    </div>\n\n    <a className=\"profile__body_edit-btn btn btn-primary\" href=\"/edit_profile\">Edit Profile</a>\n    </div>\n  ) : (\n      <p className=\"msg\">{msg}</p>\n    );\n\n  return (\n    <div className=\"profile\">\n      {component}\n    </div>\n  );\n}\n\nexport default Profile;","import React, { useState, useEffect } from 'react';\n\nimport './EditProfile.css';\nimport { checkAuth, getToken } from '../../utils';\nimport ErrorField from '../../components/ErrorField/ErrorField';\n\nconst EditProfile = (props) => {\n  const [img, setImg] = useState();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [bio, setBio] = useState('');\n\n  const [errors, setErrors] = useState({\n    username: '',\n    email: '',\n    common: ''\n  });\n\n  // get current user\n  const getCurrentUser = () => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n    fetch('/api/get_current_user', {\n      method: 'GET',\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setUsername(data.user.username);\n          setEmail(data.user.email);\n          setBio(data.user.bio ? data.user.bio : '');\n        } else {\n          setErrors({\n            username: '',\n            email: '',\n            password: '',\n            common: \"Oops, something went wrong!\"\n          });\n          \n        }\n      })\n      .catch(e => {\n        setErrors({\n          username: '',\n          email: '',\n          password: '',\n          common: \"Oops, something went wrong!\"\n        });\n      })\n  }\n\n  useEffect(getCurrentUser, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    const formdata = new FormData();\n\n    formdata.append('username', username);\n    formdata.append('email', email);\n\n    \n\n    fetch('/api/update_profile', {\n      method: 'PUT',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          document.getElementById('file').value = null;\n          window.location.replace('/profile');\n        } else {\n          switch (data.field) {\n            case \"username\":\n              setErrors({\n                username: data.msg,\n                email: '',\n                common: ''\n              });\n              break;\n            case \"email\":\n              setErrors({\n                username: '',\n                email: data.msg,\n                common: ''\n              });\n              break;\n            case \"common\":\n              setErrors({\n                username: '',\n                email: '',\n                common: data.msg\n              });\n              break;\n            default:\n              setErrors({\n                username: '',\n                email: '',\n                common: \"Oops, something went wrong!\"\n              });\n              break;\n          }\n        }\n      })\n      .catch(e => {\n        setErrors({\n          username: '',\n          email: '',\n          common: \"Oops, something went wrong!\"\n        });\n      })\n  }\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n\n  return (\n    <div className=\"edit_profile\">\n      <p className=\"edit_profile__top\">Edit Profile</p>\n        <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n        \n          {errors.common && <ErrorField error={errors.common} />}\n          <input type=\"text\" placeholder=\"Username\" value={username} onChange={e => setUsername(e.target.value)} required />\n          {errors.username && <ErrorField error={errors.username} />}\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} required />\n          {errors.email && <ErrorField error={errors.email} />}\n         \n          <button type=\"submit\" className=\"btn btn-primary\">Update</button>\n        </form>\n    </div>\n  );\n}\n\nexport default EditProfile;","import React, { createContext, useState } from 'react';\n\nexport const CommentContext = createContext();\n\nconst CommentContextProvider = ({ children }) => {\n  const [comments, setComments] = useState([]);\n\n  return (\n    <CommentContext.Provider value={{\n      comments,\n      setComments\n    }}>\n      {children}\n    </CommentContext.Provider>\n  );\n}\n\nexport default CommentContextProvider;","import React, { useState, useEffect, useContext } from 'react';\n\nimport './Comments.css';\nimport { checkAuth, getToken } from '../../utils';\nimport { CommentContext } from '../../contexts/CommentContext';\nimport { PostContext } from '../../contexts/PostContext';\nimport jwt from 'jsonwebtoken';\nimport Cookie from 'js-cookie';\n\n\nconst Comments = (props) => {\n  const { id } = props.match.params;\n  const [msg, setMsg] = useState('Loading...');\n  const { comments, setComments } = useContext(CommentContext);\n  const { posts } = useContext(PostContext);\n  const [comment, setComment] = useState('');\n  const { public_id } = jwt.decode(Cookie.get('token'));\n  const [error, setError] = useState('');\n  const [modal, setModal] = useState(false);\n\n  const toggleModal = () => {\n    setModal(!modal);\n  }\n  let post = null;\n\n  post = posts.find(post => {\n    return String(post.id) === String(id);\n  });\n\n  const deleteComment = (pid, post_id, comment_id) => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    fetch('/api/delete_comment', {\n      method: 'DELETE',\n      headers: {\n        'public_id': pid,\n        'post_id': post_id,\n        'comment_id': comment_id,\n        'x-access-token': getToken()\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      if (data.status === 200) {\n        toggleModal();\n        setError('');\n        \n        window.location.reload('/');\n      } else {\n        toggleModal();\n        setError('Oops, Some, error, happened!');\n      }\n    })\n    .catch(e => {\n      toggleModal();\n      setError('Oops, Some, error, happened!');\n    })  \n  }\n\n  \n  const getComments = () => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n    if (!post) {\n      setMsg('No Posts Found!');\n    } else {\n      fetch('/api/comments', {\n        method: 'GET',\n        headers: {\n          'x-access-token': getToken(),\n          'id': id,\n        }\n      })\n        .then(res => res.json())\n        .then(data => {\n          if (data.status === 200) {\n            setMsg('');\n            setComments(data.comments);\n          } else {\n            setMsg('Oops, Something went wrong!!!')\n          }\n        })\n        .catch(e => {\n          setMsg('No Posts Found!');\n        });\n    }\n  }\n\n  useEffect(() => {\n    getComments();\n  }, [post]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const formdata = new FormData();\n\n    formdata.append('comment', comment);\n    formdata.append('id', id);\n\n    fetch('/api/add_comment', {\n      method: 'POST',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setMsg('');\n          setComments([\n            ...comments,\n            data.comment\n          ]);\n          setComment('');\n        } else {\n          setMsg('Oops some error happened');\n        }\n      })\n      .catch(e => {\n        setMsg('Oops some error happened');\n      })\n  }\n\n  const component = post && (\n    <div className=\"comments__body\">\n      <div className=\"real_post\">\n        <div className=\"real_post_left\">\n        </div>\n        <div className=\"real_post_right\">\n        <span>Site: </span>\n        <br></br>\n          <strong> {post.post}</strong>\n        </div>\n      </div>\n\n      {/* comments */}\n      {\n        comments.length > 0 ? (\n          <div className=\"comments\">\n            {comments.map(comment => (\n              <div key={comment.id} className=\"comment\">\n                <div className=\"comments__left\">\n                  <img className=\"avatar\" src={comment.profile_pic} alt=\"profile\" />\n                </div>\n                <div className=\"comments__right\">\n                  <div className=\"comments__right_top\">\n                    <strong>{comment.commentator}</strong>\n                    <span>{comment.comment}</span>\n                    <button onClick={() => deleteComment(public_id, id, comment.id)}>delete</button>\n\n                  </div>\n                  <div className=\"comments__extras\">\n                    <span>{comment.date_posted}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n            <p className=\"msg\">No Comments Found!!!</p >\n          )\n      }\n      <form className=\"add_comment\" onSubmit={handleSubmit}>\n        <input type=\"text\" required placeholder=\"Add a note...\" className=\"comment_box\" value={comment} onChange={(e) => {\n          setComment(e.target.value);\n        }} />\n        <button type=\"submit\" className=\"btn btn-primary post-btn\">Add</button>\n      </form>\n    </div>\n  );\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n\n  return (\n    <div className=\"comments\">\n      <div className=\"comments__header\">\n       <strong>Notes</strong>\n      </div>\n      {msg && <p className=\"msg\">{msg}</p>}\n      {component}\n    </div>\n  );\n}\n\nexport default Comments;","import React, { createContext, useState } from 'react';\n\nexport const ImageContext = createContext();\n\nconst ImageContextProvider = ({ children }) => {\n  const [images, setImages] = useState([]);\n\n  return (\n    <ImageContext.Provider value={{\n      images,\n      setImages\n    }}>\n      {children}\n    </ImageContext.Provider>\n  );\n}\n\nexport default ImageContextProvider;","import React, { useState, useEffect, useContext } from 'react';\nimport {Link} from 'react-router-dom'\nimport './Images.css';\nimport { checkAuth, getToken } from '../../utils';\nimport { ImageContext } from '../../contexts/ImageContext';\nimport { PostContext } from '../../contexts/PostContext';\nimport jwt from 'jsonwebtoken';\nimport Cookie from 'js-cookie';\nimport Webcam from \"react-webcam\";\nimport { useGeolocated } from \"react-geolocated\";\nimport {Button} from 'reactstrap'\nimport GoogleMapReact from 'google-map-react';\nimport LocationOnOutlinedIcon from '@material-ui/icons/LocationOnOutlined';\n\nconst Images = (props) => {\n  const { id } = props.match.params;\n  const [msg, setMsg] = useState('Loading...');\n  const { images, setImages } = useContext(ImageContext);\n  const { posts } = useContext(PostContext);\n  const [image, setImage] = useState('');\n  const { public_id } = jwt.decode(Cookie.get('token'));\n  const [error, setError] = useState('');\n  const [modal, setModal] = useState(false);\n  const [img, setImg] = useState('');\n  \n\n  const { coords, isGeolocationAvailable, isGeolocationEnabled } =\n        useGeolocated({\n          positionOptions: {\n            enableHighAccuracy: true,\n        },\n        userDecisionTimeout: 5000,\n        \n      });\n\n  const toggleModal = () => {\n    setModal(!modal);\n  }\n  let post = null;\n\n  post = posts.find(post => {\n    return String(post.id) === String(id);\n    \n  });\n\n  const MapMarker = (props) => {\n    return (\n\n<p style={{color: \"blue\"}}>< LocationOnOutlinedIcon style={{color: \"red\"}} />\n{props.name}</p>\n    );\n   }\n\n   const defaultProps = {\n  \n    center: {\n      lat: -33.9249,\n      lng: 18.4241\n     \n    },\n    zoom: 9\n  };\n  // const geoloc = () => {\n  //   navigator.geolocation.getCurrentPosition(function(position) {\n  //   let lat1 = position.coords.latitude\n  //   let lng1 = position.coords.longitude\n\n  //   window.alert(lat1+\"  \"+lng1);})\n  // }\n\n  const deleteImage = (pid, post_id, image_id) => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n\n    fetch('/api/delete_image', {\n      method: 'DELETE',\n      headers: {\n        'public_id': pid,\n        'post_id': post_id,\n        'image_id': image_id,\n        'x-access-token': getToken()\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      if (data.status === 200) {\n        toggleModal();\n        setError('');\n        \n        window.location.reload(true);\n      } else {\n        toggleModal();\n        setError('Oops, Some, error, happened!');\n      }\n    })\n    .catch(e => {\n      toggleModal();\n      setError('Oops, Some, error, happened!');\n    })  \n  }\n\n  \n  const getImages = () => {\n    if (!checkAuth()) {\n      // if no token\n      return window.location.replace('/login')\n    }\n    if (!post) {\n      setMsg('No Posts Found!');\n    } else {\n      fetch('/api/images', {\n        method: 'GET',\n        headers: {\n          'x-access-token': getToken(),\n          'id': id,\n        }\n      })\n        .then(res => res.json())\n        .then(data => {\n          if (data.status === 200) {\n            setMsg('');\n            setImages(data.images);\n          } else {\n            setMsg('Oops, Something went wrong!!!')\n          }\n        })\n        .catch(e => {\n          setMsg('No Sites Found!');\n        });\n    }\n  }\n\n  useEffect(() => {\n    getImages();\n    \n  \n    \n  }, [post]);\n  \n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n\n    const convertBase64ToFile = function (image) {\n      const byteString = atob(image.split(',')[1]);\n      const ab = new ArrayBuffer(byteString.length);\n      const ia = new Uint8Array(ab);\n      for (let i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n      }\n      const newBlob = new Blob([ab], {\n        type: 'image/jpeg',\n      });\n      return newBlob;\n    };\n    const formdata = new FormData();\n\n    formdata.append('name', image);\n    formdata.append('id', id);\n    formdata.append('img', convertBase64ToFile(img));\n    formdata.append('lat', coords.latitude);\n    formdata.append('long', coords.longitude);\n\n    fetch('/api/add_image', {\n      method: 'POST',\n      body: formdata,\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setMsg('');\n          setImages([\n            ...images,\n            data.image\n          ]);\n          setImage('');\n          window.location.reload(true);\n        } else {\n          setMsg('Oops some error happened');\n        }\n      })\n      .catch(e => {\n        setMsg('Oops some error happened');\n      })\n  }\n\n  const component = post && (\n    <>\n    <div className=\"images__body\">\n      <div className=\"real_post\">\n        <br></br>\n      <h2> {post.post}</h2>\n\n       <br></br>\n       <img className='post_image' src={post.img}/>\n      <div>\n        <p><strong>Timestamp: </strong>{post.date_posted}</p>\n        </div>\n      <div>\n        <p><strong>Latitude: </strong>{post.latitude}</p>\n        </div>\n        <div>\n        <p><strong>Longitude: </strong>{post.longitude}</p>\n        </div>\n        <div className=\"images__extras\">\n                  <span>Author: {post.author}</span>\n                  </div>\n                  </div>\n<br></br>\n<br></br>\n<h1>Mapped Image Geolocations</h1>\n<div style={{ height: '60vh', width: '70vw' }}>\n\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: \"AIzaSyB5o-gFEfMaWlniBtBOWkozXBz6mCsUrWg\" }}\n        // defaultCenter={defaultProps.center}\n        defaultCenter={defaultProps.center}\n        defaultZoom={defaultProps.zoom}\n      >\n        {images.length>0? images.map((im, i) => (\n      <MapMarker key={i.toString()} name={im.name} lat={parseFloat(im.latitude)} lng={parseFloat(im.longitude)} />\n    )):null}\n       \n      </GoogleMapReact>\n      </div>\n\n        <br></br>\n<br></br>\n        <h2>Images</h2>\n     <br></br>\n\n      {\n       \n        images.length > 0 ? (\n          <div className=\"images\">\n            {images.map(image => (\n              <div key={image.id} className=\"image\">\n                <div className=\"images__left\">\n                  <img className=\"image_img\" src={image.img} alt=\"img\" />\n                </div>\n                <div className=\"images__right\">\n                <h5><strong>{image.name}</strong></h5>\n                <h5>{image.date_posted.slice(0,9)}</h5>\n                <h5>{image.date_posted.slice(10)}</h5>\n\n                  <div className=\"images__right_top\">\n                    \n                    <strong>Latitude</strong>\n                    <span>{image.latitude}</span>\n                    </div>\n                    <div className=\"images__right_top\">\n                    <strong>Longitude</strong>\n                    <span>{image.longitude}</span>\n                    </div>\n                    <div className=\"images__right_top\">\n                    <Button onClick={() => deleteImage(public_id, id, image.id)}>delete</Button>\n</div>\n                  <div className=\"images__extras\">\n                  <span>Author: {image.author}</span>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n            <p className=\"msg\">No Images Found!!!</p >\n          )\n      }\n    \n      \n    </div>\n    <form onSubmit={handleSubmit}>\n    <div className=\"add_image\" >\n     \n     <div className=\"input_div\">\n    <Link to={`/newimage/${id}`}>\n             <Button className=\"btn btn-primary post-btn\">Add New Image</Button>\n</Link>\n     </div>\n\n      \n          </div>\n          </form>\n    \n    </>\n  );\n  \n  \n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n\n  return (\n    <div className=\"images\">\n      <Link to=\"/locations\">\n      <Button>Back</Button>\n      </Link>\n      <br></br>\n      <br></br>\n      <div className=\"images__header\">\n       <h1>Location Site Images</h1>\n      \n       \n      \n      </div>\n      {msg && <p className=\"msg\">{msg}</p>}\n      {component}\n    \n    \n    \n    </div>\n  );\n}\n\nexport default Images;","import React, {useContext, useState, useEffect} from 'react'\nimport { PostContext } from '../../contexts/PostContext';\nimport { checkAuth, getToken } from '../../utils';\nimport GoogleMapReact from 'google-map-react';\nimport { Container } from 'reactstrap';\nimport LocationOnOutlinedIcon from '@material-ui/icons/LocationOnOutlined';\nimport './Dashboard.css'\nimport {Button} from 'reactstrap'\nimport {Link} from 'react-router-dom'\n\nfunction Dashboard(props) {\n  const { posts } = useContext(PostContext);\n  const [currentUser, setCurrentUser] = useState('');\n  const [msg, setMsg] = useState('');\n\n  \n\n  const getCurrentUser = () => {\n    fetch('/api/get_current_user', {\n      method: 'GET',\n      headers: {\n        'x-access-token': getToken()\n      }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.status === 200) {\n          setMsg('');\n          setCurrentUser(data.user);\n        } else {\n          setMsg('Oops, Some error happened!');\n        }\n      })\n      .catch(e => {\n        setMsg('Oops, Some error happened!');\n      })\n  }\n\n  useEffect(getCurrentUser, []);\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n   \n   const MapMarker = (props) => {\n    return (\n\n<p style={{color: \"blue\"}}>< LocationOnOutlinedIcon style={{color: \"red\"}} />\n{props.title}</p>\n    );\n   }\n   \n  const defaultProps = {\n  \n    center: {\n      lat: -33.9249,\n      lng: 18.4241\n     \n    },\n    zoom: 9\n  };\n\n  if (!checkAuth()) {\n    // if no token\n    return window.location.replace('/login')\n  }\n  return (\n    <>\n    <div className=\"dashboard\">\n    <h1>Dashboard</h1>\n    <div className='welcome'>\n    <h5>Welcome: {currentUser.username}</h5>\n    </div>\n    <h3>Locations Sites: {posts.length}</h3>\n    <div style={{ height: '60vh', width: '70vw' }}>\n      {posts?\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: \"AIzaSyB5o-gFEfMaWlniBtBOWkozXBz6mCsUrWg\" }}\n        // defaultCenter={defaultProps.center}\n        defaultCenter={defaultProps.center}\n        defaultZoom={defaultProps.zoom}\n      >\n        {posts.length>0? posts.map((post, i) => (\n      <MapMarker key={i.toString()} title={post.post} lat={parseFloat(post.latitude)} lng={parseFloat(post.longitude)} />\n    )):null}\n       \n      </GoogleMapReact>\n:null}\n    \n    </div>\n<div>\n  <Link to=\"/locations\">\n  <Button>View Locations</Button>\n  </Link>\n\n</div>\n    </div>\n   </>\n  )\n}\n\nexport default Dashboard","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport './Main.css';\nimport Header from '../../components/Header/Header';\nimport Home from '../../pages/Home/Home';\nimport Search from '../../pages/Search/Search';\nimport NewPost from '../../pages/NewPost/NewPost';\nimport NewImage from '../../pages/NewImage/NewImage';\nimport Profile from '../../pages/Profile/Profile';\nimport EditProfile from '../../pages/EditProfile/EditProfile';\nimport Comments from '../../pages/Comments/Comments';\nimport Images from '../../pages/Images/Images';\nimport Dashboard from '../../pages/Dashboard/Dashboard.js';\n\nconst Main = () => {\n  return (\n    <Router>\n      <Header />\n\n        <Switch>\n          <Route path=\"/search\" component={Search} />\n          <Route path=\"/newpost\" component={NewPost} />\n          <Route path=\"/profile\" component={Profile} />\n          <Route path=\"/edit_profile\" component={EditProfile} />\n          <Route path=\"/comments/:id\" component={Comments} />\n          <Route path=\"/images/:id\" component={Images} />\n          <Route path=\"/newimage/:id\" component={NewImage} />\n          <Route path=\"/dashboard\" component={Dashboard} />\n          <Route path=\"/locations\" exact component={Home} />\n          <Route path=\"/\" exact component={Dashboard} />\n        </Switch>\n\n    </Router>\n  );\n}\n\nexport default Main;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nconst { checkAuth } = require(\"./utils\");\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (checkAuth()) {\n          return <Component {...props} />;\n        } else {\n          return <Redirect\n          to={{\n            pathname: \"/login\"\n          }}\n        />;\n        }\n      }\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport './App.css';\n\nimport Login from './pages/Login/Login';\nimport Signup from './pages/Signup/Signup';\nimport Main from './containers/Main/Main';\nimport PostContextProvider from './contexts/PostContext';\nimport AuthContextProvider from './contexts/AuthContext';\nimport PrivateRoute from './PrivateRoute';\nimport CommentContextProvider from './contexts/CommentContext';\nimport ImageContextProvider from './contexts/ImageContext';\n\nconst App = () => {\n  return (\n    <Router>\n      <PostContextProvider>\n        <AuthContextProvider>\n          <CommentContextProvider>\n          <ImageContextProvider>\n          <div className=\"container\">\n            <Switch>\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/signup\" component={Signup} />\n\n              <PrivateRoute path=\"/search\" exact component={Main} />\n              <PrivateRoute path=\"/newpost\" exact component={Main} />\n              <PrivateRoute path=\"/profile\" exact component={Main} />\n              <PrivateRoute path=\"/comments/:id\" exact component={Main} />\n              <PrivateRoute path=\"/images/:id\" exact component={Main} />\n              <PrivateRoute path=\"/newimage/:id\" exact component={Main} />\n              <PrivateRoute path=\"/edit_profile\" exact component={Main} />\n              <PrivateRoute path=\"/\" exact component={Main} />\n              <PrivateRoute path=\"/dashboard\" exact component={Main} />\n              <PrivateRoute path=\"/locations\" exact component={Main} />\n            </Switch>\n          </div>\n          </ImageContextProvider>\n          </CommentContextProvider>\n        </AuthContextProvider>\n      </PostContextProvider>\n    </Router>\n\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);","import Cookie from 'js-cookie';\nimport jwt from 'jsonwebtoken';\n\nconst checkAuth = () => {\n  try {\n    const token = Cookie.get('token');\n\n    if (!token) {\n      return false;\n    }\n\n    // decode the token \n    const { exp } = jwt.decode(token);\n\n    if (exp < new Date().getTime() / 1000) {\n      return false;\n    } \n    // valid token\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst getToken = () => {\n  if (checkAuth()) {\n    return Cookie.get('token');\n  }\n}\n\nexport {\n  checkAuth,\n  getToken\n};","module.exports = __webpack_public_path__ + \"static/media/logo.4767f928.jpg\";"],"sourceRoot":""}